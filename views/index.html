<html ng-app="StarterApp">

<head>
	<title>The Wedding Wall - W²</title>
	
	<link rel="stylesheet" href="/css/client.css" />
  	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

	<!--Let browser know website is optimized for mobile-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
</head>
<body data-ng-controller="AppCtrl">
	<nav class="indigo lighten-1" role="navigation">
		<div class="container">
		  <div class="nav-wrapper">
			  <a id="logo-container" href="#" class="brand-logo">The Wedding Wall - W²</a>
		  </div>
		</div>
	</nav>
	<div class="row">
		<div class="col s12 m12">
			<div class="card blue-grey darken-3" data-ng-show="isLogin">
				<div class="card-content white-text">
					<div id="loginAvatar" class="center-align">
						 <i class="large mdi-action-face-unlock"></i>
					</div>
					<span class="card-title">Ton petit nom ?</span>
					<form name="userForm">
							<div class="input-field">
								<i class="mdi-action-account-circle prefix"></i>
								<input required id="icon_prefix" type="text" class="validate" 
									   data-ng-model="user.login" 
									   data-ng-maxlength="8"
                                       style="text-transform:uppercase">
								<label for="icon_prefix">Ex: KYKY</label>
							</div>
					</form>
				</div>
				<div class="card-action valign-wrapper center-align">
					  <button class="btn-large waves-effect waves-light" 
								type="submit" name="action"
								data-ng-click="validateLoginForm()" 
								data-ng-disabled="userForm.$invalid">
								Submit
								<i class="mdi-content-send right"></i>
					  </button>
				</div>
			</div>
			<div class="card" data-ng-show="!isLogin">
				<div class="card-content black-text">
					<div class="card-image waves-effect waves-block waves-light center-align">
						<img id="imgPreview" src="" alt="Image Preview">
					</div>
					<span class="card-title black-text">Ton message ?</span>
					<form name="sendMessageForm">
							<div class="input-field">
								<i class="small mdi-image-photo right" data-ng-click="uploadFile()"></i>
								<input type="file"  id="filesToUpload" />
								<textarea id="textarea1" class="materialize-textarea" 
										  data-ng-model="msg._txtContent" 
										data-ng-maxlength="140">
								</textarea>
								<label class="col m6" for="textarea1">
									En 140 caractères max. avec ou sans image :)
								</label>
								<span class="right" 
									  ng-class="{'red-text': msg._txtContent.length>140}">
									{{140 - msg._txtContent.length}}/140
								</span>
							</div>
					</form>
				</div>
				<div class="card-action valign-wrapper center-align white-text">
					<button class="btn-large waves-effect waves-light" 
							type="submit" name="action"
							data-ng-click="sendMessage()" 
							data-ng-disabled=" !msg._txtContent && !isLoadImageFinish">
							Envoyer
							<i class="mdi-content-send right"></i>
					</button>
				</div>
			</div>
		</div>
	</div>


	<!-- Angular Material Dependencies -->
	<script type="text/javascript" src="/js/hammer.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-animate.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-aria.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-messages.js"></script>

	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" src="/js/client.js"></script>

	<script type="text/javascript" src="js/materialize.min.js"></script>
	
	
</body>

</html>