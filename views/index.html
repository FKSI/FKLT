<html ng-app="StarterApp">

<head>
	<title>Node.js Chat</title>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="/css/client.css" />

	<!-- Angulars Material CSS now available via Google CDN; version 0.7 used here -->
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.7.1/angular-material.min.css">
</head>
<body layout="column" ng-controller="AppCtrl">
	<md-toolbar>
		<h1>Welcome</h1>
	</md-toolbar>
	<md-content class="md-padding" layout="column" layout-align="center center" layout-margin layout-fill layout-padding flex="66">
		<md-card id="loginCard" data-ng-show="isLogin">
			<md-content id="loginAvatar">
				<img src="image/avatar.png" alt="Washed Out">
			</md-content>
			<md-card-content>
				<form name="userForm">
					<div layout layout-sm="column">
						<md-input-container flex>
							<label>Quel est ton petit nom ?</label>
							<input required name="loginInput" data-ng-model="user.login" 
								   md-maxlength="14">
							<div ng-messages="userForm.loginInput.$error"  ng-show="userForm.loginInput.$dirty">
								<div ng-message="required">This is required.</div>
							</div>
						</md-input-container>
					</div>
					<md-content layout="column" layout-align="space-around center" layout-margin>
						<md-button class="md-raised md-primary" layout-margin layout-padding data-ng-click="validateLoginForm()" data-ng-disabled="userForm.$invalid">
							go !
						</md-button>
					</md-content >
				</form>
			</md-card-content>
		</md-card>
		
		<md-card id="sendMessageCard" data-ng-show="!isLogin">
			<md-card-content>
				<img id="imgPreview" src="" height="200" alt="Image preview...">
				<form id="sendMessageForm" name="sendMessageForm">
					<md-content layout layout-sm="column" layout-align="space-around center" layout-margin>
						<md-input-container flex layout="column">
							<label>Message:</label>
							<textarea id="foo" name="msgText" data-ng-model="msg._txtContent" 
									  md-maxlength="140"></textarea>
						</md-input-container>
							<input type="file"  id="filesToUpload" />
							<md-button class="md-fab md-primary" aria-label="New document"
									   data-ng-click="uploadFile()">
						<md-input-container>
							
						</md-input-container>
					</md-content>
					<md-content layout="column" layout-aling="space-around center" layout-margin>
							<md-button class="md-raised md-primary" data-ng-click="sendMessage()" data-ng-disabled=" !msg._txtContent && !isLoadImageFinish">
								Send
							</md-button>
					</md-content>
				</form>
			</md-card-content>
		</md-card>
		
	</md-content>

	<!-- Angular Material Dependencies -->
	<script type="text/javascript" src="/js/hammer.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-animate.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-aria.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-messages.js"></script>

	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" src="/js/client.js"></script>



	<!-- Angular Material Javascript now available via Google CDN; version 0.7 used here -->
	<script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.7.1/angular-material.min.js"></script>
</body>

</html>